---
import HelpItem from "@components/HelpItem.astro";
import PageLayout from "@layouts/PageLayout.astro";
import { getCollection } from "astro:content";

const allFAQs = await getCollection("help");
---

<style>
  @use "openaq-design-system/scss/variables";
  @use "openaq-design-system/scss/mixins/index.scss" as mixins;
  @use "openaq-design-system/scss/utilities/index.scss" as utilities;
  @use "./mixins" as local-mixins;

  .help-content {
    display: flex;
    position: relative;
    justify-content: center;
    margin: 0 0 40px 0;
    @include local-mixins.bubbles();

    &-container {
      width: 1000px;
      z-index: 2;
      margin: 0 0 120px 0;
    }

    @media (max-width: 1000px) {
      & {
        &-container {
          width: 800px;
        }
      }
    }

    @media (max-width: 800px) {
      & {
        &-container {
          width: 400px;
        }
      }
    }
  }
</style>
<PageLayout>
  <div class="help-content">
    <div class="help-content-container">
      <h1 class="type-display-1 gradient-title">Help & FAQ</h1>
      {allFAQs.map((FAQ) => <HelpItem title={FAQ.data.title} help={FAQ} />)}
    </div>
  </div>
</PageLayout>
