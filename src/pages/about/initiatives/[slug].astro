---
import { getCollection, render } from 'astro:content';
import InitiativesLayout from '@layouts/InitiativesLayout.astro';

export async function getStaticPaths() {
  const initiatives = await getCollection('initiatives');
  return initiatives.map(initiative => ({
    params: { slug: initiative.id }, props: { initiative },
  }));
}

const { initiative } = Astro.props;
const { Content } = await render(initiative);
---

<InitiativesLayout frontmatter={initiative.data}>
  <Content />
</InitiativesLayout>